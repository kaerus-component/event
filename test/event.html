<!doctype html>
<html>
	<head><title>Event tests</title></head>
	<script src="../build/build.js"></script>
<body>
<h1 id='header'>Event tests</h1>

	<script>
		Event = require('event');

		var header = document.getElementById('header');

		Event.bind(window,'load',function(){
			Event.bind(header,'click',clicked1);
		});

		function clicked1(event){console.log("bind(): click"); makeBound(event.target)};
		function clicked2(event){console.log("add(): click");makeAttached(event.target)};
		function clicked3(event){console.log("remove(): click");makeUnattached(event.target)};

		function makeBound(elem){
			Event.unbind(elem,'click',clicked1);
			Event.add(elem,'click',clicked2);
		}

		function makeAttached(elem){
			Event.unbind(elem,'click',clicked2);
			Event.add(elem,'click',clicked3);
		}

		function makeUnattached(elem){
			Event.remove(elem,'click',clicked3);
			Event.add(elem,'click',clicked1);
		}



	</script>
</body>
</html>